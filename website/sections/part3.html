<section id="part3" class="section timeline-section" style="background-color: #F5F0E8;">
    <div class="container">
        <div class="section-header reveal">
            <span class="section-tag">1945 - 1946</span>
            <h2>Ngh·ªá Thu·∫≠t "Dƒ© B·∫•t Bi·∫øn, ·ª®ng V·∫°n Bi·∫øn"</h2>
            <p style="max-width: 800px; margin: 1rem auto 0; opacity: 0.85; font-size: 1.1rem;">
                Trong t√¨nh th·∫ø "ng√†n c√¢n treo s·ª£i t√≥c", ngh·ªá thu·∫≠t ngo·∫°i giao c·ªßa ƒê·∫£ng th·ªÉ hi·ªán qua vi·ªác v·∫≠n d·ª•ng linh
                ho·∫°t nguy√™n t·∫Øc c·ªët l√µi n√†y.
            </p>
        </div>

        <!-- Philosophy Box -->
        <div class="philosophy-box reveal-up" style="margin-bottom: 4rem;">
            <h3>Nguy√™n T·∫Øc C·ªët L√µi</h3>
            <div class="balance-scale">
                <div class="scale-item left">
                    <strong>"Dƒ© B·∫•t Bi·∫øn"</strong>
                    <span>ƒê·ªôc l·∫≠p d√¢n t·ªôc & s·ª± l√£nh ƒë·∫°o c·ªßa ƒê·∫£ng</span>
                    <em style="display: block; font-size: 0.85rem; color: #DA251D; margin-top: 0.5rem;">‚Üí Ki√™n quy·∫øt
                        kh√¥ng thay ƒë·ªïi</em>
                </div>
                <div class="scale-center">
                    <div class="pivot"></div>
                    <div class="bar"></div>
                </div>
                <div class="scale-item right">
                    <strong>"·ª®ng V·∫°n Bi·∫øn"</strong>
                    <span>Linh ho·∫°t nh√¢n nh∆∞·ª£ng t·ª´ng ƒë·ªëi t∆∞·ª£ng</span>
                    <em style="display: block; font-size: 0.85rem; color: #2E7D32; margin-top: 0.5rem;">‚Üí Tr√°nh ƒë·ªëi ƒë·∫ßu
                        nhi·ªÅu k·∫ª th√π c√πng l√∫c</em>
                </div>
            </div>
        </div>

        <!-- Horizontal Timeline -->
        <div class="horizontal-timeline">
            <!-- Timeline Line -->
            <div class="timeline-line"></div>

            <!-- Timeline Items -->
            <div class="timeline-items">
                <!-- Item 1 - Top -->
                <div class="timeline-item top" data-index="0">
                    <div class="timeline-card">
                        <div class="card-content">
                            <h4>H√≤a T∆∞·ªüng - ƒê√°nh Ph√°p</h4>
                            <span class="timeline-date">9/1945 - 3/1946</span>
                            <p class="timeline-summary">H√≤a ho√£n v·ªõi T∆∞·ªüng ƒë·ªÉ tr√°nh "l∆∞·ª°ng ƒë·∫ßu th·ªç ƒë·ªãch"</p>
                        </div>
                        <!-- Expanded Content -->
                        <div class="card-expanded">
                            <div class="expanded-section">
                                <h5>üìä Ph√¢n t√≠ch m√¢u thu·∫´n</h5>
                                <ul>
                                    <li><strong>Qu√¢n T∆∞·ªüng:</strong> ƒê√¥ng ƒë·∫£o, d√£ t√¢m l·∫≠t ƒë·ªï ‚Üí nh∆∞ng ch∆∞a d√°m d√πng v≈©
                                        l·ª±c</li>
                                    <li><strong>Ph√°p:</strong> K·∫ª th√π tr·ª±c ti·∫øp ƒëang n·ªï s√∫ng ·ªü mi·ªÅn Nam</li>
                                </ul>
                            </div>
                            <div class="expanded-section">
                                <h5>ü§ù Nh√¢n nh∆∞·ª£ng kh√¥n kh√©o</h5>
                                <ul>
                                    <li><strong>Kinh t·∫ø:</strong> Cung c·∫•p l∆∞∆°ng th·ª±c; ch·∫•p nh·∫≠n ti·ªÅn "Quan kim", "Qu·ªëc
                                        t·ªá" m·∫•t gi√°</li>
                                    <li><strong>Ch√≠nh tr·ªã:</strong> Nh∆∞·ªùng 70 gh·∫ø Qu·ªëc h·ªôi cho tay sai T∆∞·ªüng</li>
                                </ul>
                            </div>
                            <div class="expanded-result">‚úÖ V√¥ hi·ªáu h√≥a √¢m m∆∞u l·∫≠t ƒë·ªï c·ªßa qu√¢n T∆∞·ªüng</div>
                        </div>
                    </div>
                    <div class="timeline-connector"></div>
                    <div class="timeline-node" style="--node-color: #E57373;">
                        <span class="node-number">01</span>
                        <div class="node-icon">üîç</div>
                    </div>
                </div>

                <!-- Item 2 - Bottom -->
                <div class="timeline-item bottom" data-index="1">
                    <div class="timeline-node" style="--node-color: #FFB74D;">
                        <span class="node-number">02</span>
                        <div class="node-icon">üìú</div>
                    </div>
                    <div class="timeline-connector"></div>
                    <div class="timeline-card">
                        <div class="card-content">
                            <h4>Hi·ªáp ∆∞·ªõc Hoa-Ph√°p</h4>
                            <span class="timeline-date">28/2/1946</span>
                            <p class="timeline-summary">T∆∞·ªüng & Ph√°p th√†nh ƒë·ªìng minh, t√¨nh th·∫ø thay ƒë·ªïi</p>
                        </div>
                        <div class="card-expanded">
                            <div class="expanded-section">
                                <h5>‚ö° B∆∞·ªõc ngo·∫∑t quan tr·ªçng</h5>
                                <ul>
                                    <li>Ph√°p v√† T∆∞·ªüng k√Ω hi·ªáp ∆∞·ªõc ‚Üí tr·ªü th√†nh ƒë·ªìng minh</li>
                                    <li>N·∫øu ti·∫øp t·ª•c ch·ªëng Ph√°p ‚Üí b·ªã k·∫πp gi·ªØa 2 g·ªçng k√¨m</li>
                                    <li>C·∫ßn thay ƒë·ªïi s√°ch l∆∞·ª£c ngay l·∫≠p t·ª©c</li>
                                </ul>
                            </div>
                            <div class="expanded-result">‚ö†Ô∏è T√¨nh th·∫ø bu·ªôc ph·∫£i chuy·ªÉn h∆∞·ªõng chi·∫øn l∆∞·ª£c</div>
                        </div>
                    </div>
                </div>

                <!-- Item 3 - Top -->
                <div class="timeline-item top" data-index="2">
                    <div class="timeline-card">
                        <div class="card-content">
                            <h4>Hi·ªáp ƒë·ªãnh S∆° b·ªô</h4>
                            <span class="timeline-date">6/3/1946</span>
                            <p class="timeline-summary">"Qu·ªëc gia t·ª± do" trong Li√™n hi·ªáp Ph√°p</p>
                        </div>
                        <div class="card-expanded">
                            <div class="expanded-section">
                                <h5>üìã N·ªôi dung ch√≠nh</h5>
                                <ul>
                                    <li>Ph√°p c√¥ng nh·∫≠n VN l√† "Qu·ªëc gia t·ª± do" trong Li√™n hi·ªáp Ph√°p</li>
                                    <li>Ph√°p bu·ªôc qu√¢n T∆∞·ªüng ph·∫£i r√∫t kh·ªèi mi·ªÅn B·∫Øc</li>
                                    <li>T·∫°o ƒëi·ªÅu ki·ªán ƒë·ªÉ ta c·ªßng c·ªë l·ª±c l∆∞·ª£ng</li>
                                </ul>
                            </div>
                            <div class="expanded-result">‚úÖ ƒêu·ªïi ƒë∆∞·ª£c 20 v·∫°n qu√¢n T∆∞·ªüng kh√¥ng t·ªën m·ªôt vi√™n ƒë·∫°n</div>
                        </div>
                    </div>
                    <div class="timeline-connector"></div>
                    <div class="timeline-node" style="--node-color: #81C784;">
                        <span class="node-number">03</span>
                        <div class="node-icon">ü§ù</div>
                    </div>
                </div>

                <!-- Item 4 - Bottom -->
                <div class="timeline-item bottom" data-index="3">
                    <div class="timeline-node" style="--node-color: #64B5F6;">
                        <span class="node-number">04</span>
                        <div class="node-icon">‚è≥</div>
                    </div>
                    <div class="timeline-connector"></div>
                    <div class="timeline-card">
                        <div class="card-content">
                            <h4>T·∫°m ∆∞·ªõc 14/9</h4>
                            <span class="timeline-date">14/9/1946</span>
                            <p class="timeline-summary">Nh√¢n nh∆∞·ª£ng th√™m ƒë·ªÉ k√©o d√†i h√≤a ho√£n</p>
                        </div>
                        <div class="card-expanded">
                            <div class="expanded-section">
                                <h5>üéØ M·ª•c ƒë√≠ch chi·∫øn l∆∞·ª£c</h5>
                                <ul>
                                    <li>Ti·∫øp t·ª•c nh√¢n nh∆∞·ª£ng c√≥ gi·ªõi h·∫°n v·ªõi Ph√°p</li>
                                    <li>K√©o d√†i th·ªùi gian h√≤a b√¨nh qu√Ω gi√°</li>
                                    <li>C·ªßng c·ªë l·ª±c l∆∞·ª£ng, chu·∫©n b·ªã kh√°ng chi·∫øn</li>
                                </ul>
                            </div>
                            <div class="expanded-result">‚úÖ K√©o d√†i h√≤a ho√£n cho ƒë·∫øn 19/12/1946</div>
                        </div>
                    </div>
                </div>

                <!-- Item 5 - Top -->
                <div class="timeline-item top" data-index="4">
                    <div class="timeline-card">
                        <div class="card-content">
                            <h4>To√†n qu·ªëc kh√°ng chi·∫øn</h4>
                            <span class="timeline-date">19/12/1946</span>
                            <p class="timeline-summary">"Th√† hy sinh t·∫•t c·∫£ ch·ª© kh√¥ng ch·ªãu m·∫•t n∆∞·ªõc"</p>
                        </div>
                        <div class="card-expanded">
                            <div class="expanded-section">
                                <h5>üí™ K·∫øt qu·∫£ ngo·∫°i giao</h5>
                                <ul>
                                    <li>ƒê√£ ƒëu·ªïi ƒë∆∞·ª£c qu√¢n T∆∞·ªüng v·ªÅ n∆∞·ªõc</li>
                                    <li>C√≥ th·ªùi gian c·ªßng c·ªë ch√≠nh quy·ªÅn, l·ª±c l∆∞·ª£ng</li>
                                    <li>ƒê·ªß s·ª©c b∆∞·ªõc v√†o cu·ªôc kh√°ng chi·∫øn tr∆∞·ªùng k·ª≥</li>
                                </ul>
                            </div>
                            <div class="expanded-result">üéñÔ∏è "Kh√¥ng gian ƒë·ªïi l·∫•y th·ªùi gian" - Th√†nh c√¥ng!</div>
                        </div>
                    </div>
                    <div class="timeline-connector"></div>
                    <div class="timeline-node" style="--node-color: #BA68C8;">
                        <span class="node-number">05</span>
                        <div class="node-icon">‚≠ê</div>
                    </div>
                </div>
            </div>
        </div>

        <p class="timeline-hint reveal-up">üí° Click v√†o th·∫ª ƒë·ªÉ xem chi ti·∫øt</p>

        <hr style="border-color: rgba(0,0,0,0.1); margin: 4rem 0;">

        <!-- B√†i h·ªçc (Static Section) -->
        <div class="lessons-section reveal-up">
            <div class="section-header" style="margin-bottom: 2rem;">
                <span class="section-tag" style="background: #2E7D32;">B√†i H·ªçc Cho Hi·ªán T·∫°i</span>
            </div>

            <div class="lessons-grid">
                <div class="lesson-card">
                    <div class="lesson-icon">üîç</div>
                    <h4>Nh·∫≠n di·ªán ƒë√∫ng ƒë·ªëi t√°c - ƒë·ªëi t∆∞·ª£ng</h4>
                    <ul>
                        <li>Bi·∫øt r√µ <strong>ai l√† b·∫°n, ai l√† th√π</strong></li>
                        <li>T·∫≠n d·ª•ng <strong>m√¢u thu·∫´n gi·ªØa c√°c n∆∞·ªõc l·ªõn</strong></li>
                    </ul>
                </div>

                <div class="lesson-card">
                    <div class="lesson-icon">‚öñÔ∏è</div>
                    <h4>Nguy√™n t·∫Øc & S√°ch l∆∞·ª£c</h4>
                    <ul>
                        <li><strong>ƒê·ªôc l·∫≠p ch·ªß quy·ªÅn = "b·∫•t bi·∫øn"</strong></li>
                        <li>Ph∆∞∆°ng ph√°p b·∫£o v·ªá ph·∫£i <strong>m·ªÅm d·∫ªo, linh ho·∫°t</strong></li>
                    </ul>
                </div>

                <div class="lesson-card">
                    <div class="lesson-icon">üí™</div>
                    <h4>T·ª± c∆∞·ªùng</h4>
                    <ul>
                        <li>Ngo·∫°i giao hi·ªáu qu·∫£ khi c√≥ <strong>n·ªôi l·ª±c v·ªØng m·∫°nh</strong></li>
                        <li>D√πng th·ªùi gian h√≤a ho√£n ƒë·ªÉ <strong>c·ªßng c·ªë l·ª±c l∆∞·ª£ng</strong></li>
                    </ul>
                </div>
            </div>

            <!-- Quote -->
            <div class="wisdom-box" style="margin-top: 2rem;">
                <blockquote style="font-size: 1.2rem; font-style: italic; color: #555; text-align: center;">
                    "Th·ª±c l·ª±c l√† c√°i chi√™ng m√† ngo·∫°i giao l√† c√°i ti·∫øng. C√°i chi√™ng c√≥ to th√¨ c√°i ti·∫øng m·ªõi l·ªõn."
                    <footer style="margin-top: 0.5rem; font-weight: bold;">‚Äî H·ªì Ch√≠ Minh ‚Äî</footer>
                </blockquote>
            </div>
        </div>
    </div>
</section>

<style>
    /* ========== Horizontal Timeline ========== */
    .horizontal-timeline {
        position: relative;
        padding: 3rem 0;
        overflow-x: auto;
        overflow-y: visible;
    }

    .timeline-line {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #ddd 0%, #bbb 50%, #ddd 100%);
        transform: translateY(-50%);
        z-index: 1;
    }

    .timeline-items {
        display: flex;
        justify-content: space-between;
        align-items: center;
        min-width: 1100px;
        padding: 0 2rem;
        position: relative;
        z-index: 2;
    }

    .timeline-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 200px;
        position: relative;
        cursor: pointer;
    }

    /* Top items */
    .timeline-item.top {
        flex-direction: column;
    }

    .timeline-item.top .timeline-card {
        order: 1;
        margin-bottom: 0;
    }

    .timeline-item.top .timeline-connector {
        order: 2;
    }

    .timeline-item.top .timeline-node {
        order: 3;
    }

    /* Bottom items */
    .timeline-item.bottom {
        flex-direction: column;
    }

    .timeline-item.bottom .timeline-node {
        order: 1;
    }

    .timeline-item.bottom .timeline-connector {
        order: 2;
    }

    .timeline-item.bottom .timeline-card {
        order: 3;
    }

    /* Timeline Node (Circle with number) */
    .timeline-node {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: white;
        border: 4px solid var(--node-color, #E57373);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 10;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .timeline-item:hover .timeline-node {
        transform: scale(1.1);
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
    }

    .node-number {
        font-size: 1.2rem;
        font-weight: 700;
        color: #333;
        line-height: 1;
    }

    .node-icon {
        font-size: 1rem;
        margin-top: 2px;
    }

    /* Connector line */
    .timeline-connector {
        width: 2px;
        height: 30px;
        background: linear-gradient(180deg, var(--node-color, #ddd), #ddd);
        flex-shrink: 0;
    }

    .timeline-item.top .timeline-connector {
        background: linear-gradient(180deg, #ddd, var(--node-color, #ddd));
    }

    /* Timeline Card */
    .horizontal-timeline .timeline-card {
        background: white;
        border-radius: 12px;
        padding: 1rem;
        width: 180px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        border: 2px solid transparent;
        position: relative;
        overflow: hidden;
    }

    .horizontal-timeline .timeline-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        border-color: var(--node-color, #E57373);
    }

    .horizontal-timeline .timeline-card.expanded {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: 500px;
        max-height: 80vh;
        overflow-y: auto;
        z-index: 1000;
        padding: 1.5rem;
        animation: cardExpand 0.3s ease-out;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25), 0 0 0 9999px rgba(255, 255, 255, 0.9);
    }

    @keyframes cardExpand {
        from {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
        }

        to {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
    }

    .card-content h4 {
        margin: 0 0 0.5rem 0;
        font-size: 0.95rem;
        color: #333;
        font-weight: 600;
    }

    .timeline-date {
        display: inline-block;
        font-size: 0.8rem;
        color: #888;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .timeline-summary {
        font-size: 0.8rem;
        color: #666;
        line-height: 1.4;
        margin: 0;
    }

    /* Expanded Card Content */
    .card-expanded {
        display: none;
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid #eee;
    }

    .timeline-card.expanded .card-expanded {
        display: block;
        animation: fadeSlideUp 0.3s ease;
    }

    @keyframes fadeSlideUp {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .expanded-section {
        margin-bottom: 1rem;
    }

    .expanded-section h5 {
        margin: 0 0 0.5rem 0;
        font-size: 0.9rem;
        color: #444;
    }

    .expanded-section ul {
        margin: 0;
        padding-left: 1.2rem;
        font-size: 0.85rem;
        line-height: 1.6;
        color: #555;
    }

    .expanded-result {
        background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
        padding: 0.8rem 1rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 0.85rem;
        color: #2E7D32;
        text-align: center;
    }

    /* Overlay for expanded card - transparent, no dimming */
    .timeline-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: transparent;
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .timeline-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    /* Close button for expanded card */
    .card-close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: #f0f0f0;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        transition: all 0.3s;
    }

    .timeline-card.expanded .card-close-btn {
        display: flex;
    }

    .card-close-btn:hover {
        background: #DA251D;
        color: white;
    }

    /* Timeline Hint */
    .timeline-hint {
        text-align: center;
        color: #888;
        font-size: 0.9rem;
        margin-top: 2rem;
        font-style: italic;
    }

    /* Responsive */
    @media (max-width: 1200px) {
        .horizontal-timeline {
            padding-bottom: 1rem;
        }

        .timeline-items {
            min-width: 900px;
        }
    }

    @media (max-width: 768px) {
        .timeline-items {
            min-width: 750px;
        }

        .timeline-item {
            width: 140px;
        }

        .horizontal-timeline .timeline-card {
            width: 130px;
            padding: 0.8rem;
        }

        .card-content h4 {
            font-size: 0.85rem;
        }

        .timeline-summary {
            font-size: 0.75rem;
        }

        .timeline-node {
            width: 55px;
            height: 55px;
        }

        .node-number {
            font-size: 1rem;
        }
    }

    /* Lessons */
    .lessons-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
    }

    .lesson-card {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.06);
        border-left: 4px solid var(--primary-red);
    }

    .lesson-card:nth-child(2) {
        border-left-color: #FF6F00;
    }

    .lesson-card:nth-child(3) {
        border-left-color: #2E7D32;
    }

    .lesson-icon {
        font-size: 1.8rem;
        margin-bottom: 0.5rem;
    }

    .lesson-card h4 {
        margin: 0 0 0.8rem 0;
        font-size: 1rem;
    }

    .lesson-card ul {
        margin: 0;
        padding-left: 1.2rem;
        font-size: 0.9rem;
    }
</style>