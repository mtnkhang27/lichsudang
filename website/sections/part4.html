<section id="part4" class="section bamboo-section">
    <div class="bamboo-bg" style="background-image: url('./images/bamboo_art.png'); opacity: 0.3;"></div>

    <div class="container bamboo-container">
        <div class="section-header reveal white-text">
            <span class="section-tag text-green">Tr∆∞·ªùng Ph√°i Ngo·∫°i Giao</span>
            <h2 class="pulse-text" style="font-size: 3rem;">C√ÇY TRE VI·ªÜT NAM</h2>
            <p>Tri·∫øt l√Ω "Dƒ© b·∫•t bi·∫øn, ·ª©ng v·∫°n bi·∫øn"</p>
        </div>

        <!-- Simple Interactive Tree -->
        <!-- Visual Order: Top (G·ªëc) -> Bottom (C√†nh) -->
        <div class="bamboo-tree-simple">
            <!-- C√†nh -->
            <div class="tree-node" onclick="document.getElementById('modal-branch').classList.add('active')">
                <span class="node-icon">üåø</span>
                <span class="node-label">C√†nh Uy·ªÉn Chuy·ªÉn</span>
            </div>

            <!-- Th√¢n -->
            <div class="tree-node" onclick="document.getElementById('modal-trunk').classList.add('active')">
                <span class="node-icon">üéã</span>
                <span class="node-label">Th√¢n Ch·∫Øc</span>
            </div>

            <!-- G·ªëc -->
            <div class="tree-node" onclick="document.getElementById('modal-root').classList.add('active')">
                <span class="node-icon">ü™®</span>
                <span class="node-label">G·ªëc V·ªØng</span>
            </div>
        </div>

        <!-- Modals -->
        <!-- Each modal has an inline onclick on the overlay to close itself -->

        <!-- Root Modal -->
        <div id="modal-root" class="simple-modal-overlay"
            onclick="if(event.target === this) this.classList.remove('active')">
            <div class="simple-modal-box">
                <span class="simple-close"
                    onclick="document.getElementById('modal-root').classList.remove('active')">&times;</span>
                <h3>ü™® G·ªêC V·ªÆNG</h3>
                <p><em>"G·ªëc c√≥ v·ªØng th√¨ c√¢y m·ªõi b·ªÅn."</em></p>
                <ul>
                    <li><strong>L·ª£i √≠ch qu·ªëc gia - d√¢n t·ªôc:</strong> L√† n·ªÅn t·∫£ng c·ªët l√µi, l√† c√°i "B·∫•t bi·∫øn".</li>
                    <li><strong>ƒê·ªôc l·∫≠p, T·ª± ch·ªß:</strong> ƒê∆∞·ªùng l·ªëi ƒë·ªëi ngo·∫°i xu·∫•t ph√°t t·ª´ nhu c·∫ßu t·ª± th√¢n.</li>
                    <li><strong>ƒê·∫°i ƒëo√†n k·∫øt to√†n d√¢n:</strong> S·ª©c m·∫°nh n·ªôi l·ª±c c·ªßa d√¢n t·ªôc.</li>
                    <li><strong>S·ª± l√£nh ƒë·∫°o c·ªßa ƒê·∫£ng:</strong> Kim ch·ªâ nam cho m·ªçi h√†nh ƒë·ªông.</li>
                </ul>
            </div>
        </div>

        <!-- Trunk Modal -->
        <div id="modal-trunk" class="simple-modal-overlay"
            onclick="if(event.target === this) this.classList.remove('active')">
            <div class="simple-modal-box">
                <span class="simple-close"
                    onclick="document.getElementById('modal-trunk').classList.remove('active')">&times;</span>
                <h3>üéã TH√ÇN CH·∫ÆC</h3>
                <p><em>"Th√¢n g·∫ßy gu·ªôc, l√° mong manh / M√† sao n√™n l≈©y n√™n th√†nh tre ∆°i."</em></p>
                <ul>
                    <li><strong>Kh√¥ng tham gia li√™n minh qu√¢n s·ª±.</strong></li>
                    <li><strong>Kh√¥ng li√™n k·∫øt v·ªõi n∆∞·ªõc n√†y ƒë·ªÉ ch·ªëng n∆∞·ªõc kia.</strong></li>
                    <li><strong>Kh√¥ng cho n∆∞·ªõc ngo√†i ƒë·∫∑t cƒÉn c·ª© qu√¢n s·ª± ho·∫∑c s·ª≠ d·ª•ng l√£nh th·ªï ƒë·ªÉ ch·ªëng l·∫°i n∆∞·ªõc
                            kh√°c.</strong></li>
                    <li><strong>Kh√¥ng s·ª≠ d·ª•ng v≈© l·ª±c ho·∫∑c ƒëe d·ªça s·ª≠ d·ª•ng v≈© l·ª±c.</strong></li>
                </ul>
            </div>
        </div>

        <!-- Branch Modal -->
        <div id="modal-branch" class="simple-modal-overlay"
            onclick="if(event.target === this) this.classList.remove('active')">
            <div class="simple-modal-box">
                <span class="simple-close"
                    onclick="document.getElementById('modal-branch').classList.remove('active')">&times;</span>
                <h3>üåø C√ÄNH UY·ªÇN CHUY·ªÇN</h3>
                <p><em>"L·∫°t m·ªÅm bu·ªôc ch·∫∑t."</em></p>
                <ul>
                    <li><strong>ƒêa ph∆∞∆°ng h√≥a:</strong> "Th√™m b·∫°n b·ªõt th√π", s·∫µn s√†ng l√†m b·∫°n v·ªõi c√°c n∆∞·ªõc.</li>
                    <li><strong>Linh ho·∫°t s√°ch l∆∞·ª£c:</strong> "Dƒ© b·∫•t bi·∫øn, ·ª©ng v·∫°n bi·∫øn".</li>
                    <li><strong>H·ªôi nh·∫≠p s√¢u r·ªông:</strong> Ch·ªß ƒë·ªông tham gia LHQ, ASEAN, WTO.</li>
                    <li><strong>Ngo·∫°i giao t√¢m c√¥ng:</strong> Thu ph·ª•c l√≤ng ng∆∞·ªùi b·∫±ng ch√≠nh nghƒ©a.</li>
                </ul>
            </div>
        </div>
    </div>

    <style>
        .bamboo-container {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #fff;
        }

        .bamboo-tree-simple {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 280px;
        }

        .tree-node {
            background: linear-gradient(90deg, #2d6a4f, #40916c);
            border: 2px solid #74c69d;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            user-select: none;
        }

        .tree-node:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(82, 183, 136, 0.5);
            background: linear-gradient(90deg, #1b4332, #2d6a4f);
        }

        .node-icon {
            display: block;
            font-size: 2.5rem;
            margin-bottom: 5px;
        }

        .node-label {
            font-size: 1.2rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        /* Simple Modal Styles */
        .simple-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;

            /* Hidden state */
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.3s;
            backdrop-filter: blur(4px);
        }

        .simple-modal-overlay.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .simple-modal-box {
            background: #1b4332;
            border: 2px solid #52b788;
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .simple-modal-overlay.active .simple-modal-box {
            transform: scale(1);
        }

        .simple-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
            color: #74c69d;
            cursor: pointer;
        }

        .simple-close:hover {
            color: #fff;
        }

        .simple-modal-box h3 {
            color: #52b788;
            border-bottom: 1px solid #2d6a4f;
            padding-bottom: 10px;
            margin-top: 0;
        }

        .simple-modal-box ul {
            padding-left: 20px;
            margin-top: 15px;
        }

        .simple-modal-box li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .pulse-text {
            animation: pulse-green 2s infinite;
        }

        @keyframes pulse-green {
            0% {
                text-shadow: 0 0 0 rgba(82, 183, 136, 0.4);
            }

            50% {
                text-shadow: 0 0 20px rgba(82, 183, 136, 0.8);
            }

            100% {
                text-shadow: 0 0 0 rgba(82, 183, 136, 0.4);
            }
        }
    </style>
</section>