<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngoại Giao Việt Nam: Từ 1945 Đến "Cây Tre Việt Nam"</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Merriweather:wght@400;700;900&family=Dancing+Script:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<body>

    <!-- Loading Screen -->
    <div id="loader">
        <div class="loader-content">
            <div class="star-loader">★</div>
            <p>Đang tải dòng lịch sử...</p>
        </div>
    </div>

    <!-- Placeholders for Sections -->
    <div id="nav-placeholder"></div>
    <div id="hero-placeholder"></div>
    <div id="part1-placeholder"></div>
    <div id="part2-placeholder"></div>
    <div id="part3-placeholder"></div>
    <div id="part4-placeholder"></div>
    <div id="part5-placeholder"></div>
    <div id="footer-placeholder"></div>

    <script src="script.js"></script>
    <script>
        async function loadSection(id, file) {
            try {
                const response = await fetch(file);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const html = await response.text();
                document.getElementById(id).outerHTML = html; // Replace placeholder with content
            } catch (e) {
                console.error("Could not load section:", file, e);
                document.getElementById(id).innerHTML = `<div style='text-align:center; padding: 2rem; color:red; border: 1px solid red; margin: 1rem;'>
                    <h3>Lỗi tải nội dung: ${file}</h3>
                    <p>Nếu bạn đang mở file trực tiếp (file://), trình duyệt sẽ chặn việc tải file rời rạc vì lý do bảo mật (CORS).</p>
                    <p>Vui lòng chạy file này thông qua Live Server (Visual Studio Code) hoặc một local server.</p>
                </div>`;
            }
        }

        async function loadAllContent() {
            // Load all sections sequentially or in parallel
            // Parallel is faster but order *might* jumble if simply appending, 
            // but since we write to specific IDs, parallel is fine.
            await Promise.all([
                loadSection('nav-placeholder', 'sections/nav.html'),
                loadSection('hero-placeholder', 'sections/hero.html'),
                loadSection('part1-placeholder', 'sections/part1.html'),
                loadSection('part2-placeholder', 'sections/part2.html'),
                loadSection('part3-placeholder', 'sections/part3.html'),
                loadSection('part4-placeholder', 'sections/part4.html'),
                loadSection('part5-placeholder', 'sections/part5.html'),
                loadSection('footer-placeholder', 'sections/footer.html')
            ]);

            // Initialize animations after content is in the DOM
            if (typeof initAnimations === 'function') {
                initAnimations();
            }

            // Hide loader
            if (typeof hideLoader === 'function') {
                hideLoader();
            }
        }

        // Start loading
        document.addEventListener('DOMContentLoaded', loadAllContent);
    </script>
</body>

</html>